<!doctype html><html><head><meta charset="utf-8"><title>Tests: python-tools\tests\test_live_stream.py</title><link rel="stylesheet" href="tests.css"></head><body><div class="wrap"><h1>Tests: python-tools\tests\test_live_stream.py</h1><p><a href="index.html">Back to tests index</a></p><div class="items"><h2>Test functions</h2><ul><li>test_live_stream_ws_ping</li></ul><h3>Markers / Types</h3><ul><li>marker: integration</li><li>type: integration</li></ul></div><h2>Source</h2><pre class="source">import pytest
import websocket
import time


@pytest.mark.integration
def test_live_stream_ws_ping():
    &quot;&quot;&quot;Try connecting to a known websocket stream endpoint, skip if unreachable.&quot;&quot;&quot;
    url = &quot;ws://127.0.0.1:8000/stream&quot;
    try:
        ws = websocket.create_connection(url, timeout=2)
        ws.send(&#x27;ping&#x27;)
        resp = ws.recv()
        assert resp is not None
        ws.close()
    except Exception:
        pytest.skip(&#x27;Live stream websocket not available&#x27;)
</pre></div></body></html>