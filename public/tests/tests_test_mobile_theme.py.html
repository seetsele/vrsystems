<!doctype html><html><head><meta charset="utf-8"><title>Tests: tests\test_mobile_theme.py</title><link rel="stylesheet" href="tests.css"></head><body><div class="wrap"><h1>Tests: tests\test_mobile_theme.py</h1><p><a href="index.html">Back to tests index</a></p><div class="items"><h2>Test functions</h2><ul><li>test_mobile_accent_matches_public_theme</li></ul></div><h2>Source</h2><pre class="source">import re
from pathlib import Path


def extract_css_var(css_path, var_name):
    text = Path(css_path).read_text(encoding=&#x27;utf-8&#x27;)
    m = re.search(rf&quot;{re.escape(var_name)}\s*:\s*([^;]+);&quot;, text)
    return m.group(1).strip() if m else None


def extract_ts_value(ts_path, key_name):
    text = Path(ts_path).read_text(encoding=&#x27;utf-8&#x27;)
    m = re.search(rf&quot;{re.escape(key_name)}\s*:\s*&#x27;([^&#x27;]+)&#x27;&quot;, text)
    return m.group(1).strip() if m else None


def test_mobile_accent_matches_public_theme():
    css_var = extract_css_var(&#x27;public/assets/css/verity-theme.css&#x27;, &#x27;--accent&#x27;)
    assert css_var is not None, &#x27;Could not find --accent in public theme CSS&#x27;

    amber = extract_ts_value(&#x27;verity-mobile/src/theme/colors.ts&#x27;, &#x27;amber&#x27;)
    assert amber is not None, &#x27;Could not find amber value in mobile theme&#x27;

    # Normalize hex (lowercase)
    assert css_var.lower().startswith(&#x27;#&#x27;)
    assert amber.lower().startswith(&#x27;#&#x27;)

    assert css_var.lower() == amber.lower(), f&quot;Mismatch: public --accent={css_var} vs mobile amber={amber}&quot;
</pre></div></body></html>