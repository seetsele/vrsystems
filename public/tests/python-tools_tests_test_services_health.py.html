<!doctype html><html><head><meta charset="utf-8"><title>Tests: python-tools\tests\test_services_health.py</title><link rel="stylesheet" href="tests.css"></head><body><div class="wrap"><h1>Tests: python-tools\tests\test_services_health.py</h1><p><a href="index.html">Back to tests index</a></p><div class="items"><h2>Test functions</h2><ul><li>test_core_ports</li></ul></div><h2>Source</h2><pre class="source">import pytest
import socket


def _is_port_open(port, host=&#x27;127.0.0.1&#x27;):
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.settimeout(0.5)
    try:
        s.connect((host, port))
        s.close()
        return True
    except Exception:
        return False


def test_core_ports():
    &quot;&quot;&quot;Check typical local ports for services (http, db).&quot;&quot;&quot;
    # http server (public) usually on 3001 or 8000
    assert _is_port_open(3001) or _is_port_open(3002) or _is_port_open(8000) or _is_port_open(3000)
    # postgres default
    # don&#x27;t require it, but report presence
    _is_port_open(5432)
</pre></div></body></html>