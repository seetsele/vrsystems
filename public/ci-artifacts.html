<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CI Artifacts</title>
  <style>
    body{font-family:Inter,system-ui;background:#071028;color:#e6eef8;padding:2rem}
    .card{background:#0f1724;padding:1rem;border-radius:8px;border:1px solid #253044;margin-bottom:1rem}
    input,button{padding:0.6rem;border-radius:6px;border:1px solid #2b3442;background:#071029;color:#e6eef8}
    pre{background:#051226;padding:1rem;border-radius:6px;overflow:auto}
  </style>
</head>
<body>
  <h1>CI Artifacts Viewer</h1>
  <div class="card">
    <p>Provide <b>owner/repo</b> and a <b>Personal Access Token</b> to list recent workflow artifacts (token required if repository is private).</p>
    <input id="repo" placeholder="owner/repo" style="width:260px" />
    <input id="token" placeholder="GitHub token (optional)" style="width:320px" />
    <button onclick="fetchArtifacts()">Fetch Artifacts</button>
    <div id="out" style="margin-top:0.6rem"></div>
  </div>
  <div class="card"><pre id="artifactsPre">No data yet.</pre></div>
  <script>
    async function fetchArtifacts(){
      const repo = document.getElementById('repo').value.trim();
      const token = document.getElementById('token').value.trim();
      if(!repo){ alert('Enter owner/repo'); return }
      const url = `https://api.github.com/repos/${repo}/actions/artifacts`;
      try{
        const res = await fetch(url, { headers: token ? { 'Authorization': 'Bearer '+token } : {} });
        if(!res.ok) throw new Error('HTTP '+res.status);
        const data = await res.json();
        document.getElementById('artifactsPre').textContent = JSON.stringify(data, null, 2);
      }catch(e){ document.getElementById('artifactsPre').textContent = 'Error: '+e.message }
    }
  </script>
</body>
</html>